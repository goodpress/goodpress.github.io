<h2 class="wmd-title" id="第一次玩wordpress">第一次玩Wordpress</h2> <p>回想是如何喜欢上wordpress的呢？ 我记得是公司有几个大牛，比如开发阿里旺旺的兄弟，他们都有自己的博客，我观察了下，是wordpress搭建的。但一直没时间弄。</p> <p>上周末花了2小时学习HTML语法，学完不小心下载了Chrome应用<strong>马克飞象</strong>，上面的markdown语法10分钟就看会了，原来想有一个漂亮的排版不是难事啊。然后发现了Chrome一个更棒的应用<strong>StackEdit</strong>，能自动保存自己写的内容到本地缓存或者谷歌硬盘，更牛的是支持一键同步到Github、Wordpress等。然后就有个强烈的想法<strong>找台服务器玩Wordpres</strong>  </p> <p>我的经历有点苦逼。不过我会用这篇文章，让你不再像我一样苦逼折腾。 <br> 下面开始介绍最简单的搭建。保证20分钟让你有自己的wordpres站点。  </p> <h3 class="wmd-title" id="一、弄一台服务器">一、弄一台服务器</h3> <p>我是去阿里云买了一台最简配置，适合于个人玩家的，一个月，77块，如果好玩再考虑包年。配置是：CPU 1核；内存 512MB；硬盘 40GB；宽带1MB；购买地址：<a href="http://buy.aliyun.com/">阿里云服务器</a>    </p> <p>服务器购买后，在阿里云管理服务器的页面上，会有公网IP。使用远程登录工具登陆服务器。 <br> Mac：直接使用终端，快捷方式，按ctrl+空格，输入terminal回车。 <br> Windows：下载putty. <br> 登陆的IP：自己买的服务器公网IP； 登陆用户名：root <br> 登陆密码：阿里云网上注册的密码。 <br> 后面你会看到，各种地方要密码：  </p> <ul> <li>阿里云账号密码</li> <li>登陆服务器密码</li> <li>服务器上的mysq root密码</li> <li>服务器上mysql 普通用户密码</li> <li>Wordpress插件密码</li> <li>wordpress后台管理密码</li> </ul> <p>总之，各种地方需要密码。我的个人建议：</p> <ul> <li>那个本子把不同地方的密码记下来</li> <li>不要把密码等信息记录在电脑上，很多软件会扫描你电脑。更别记录到邮箱里或者Evernot等网站上。更不安全  。</li> <li>root密码要复杂一点，最好是字母+数字+特殊字符。因为我以前干PE的时候，经常发现服务器被不停的恶意登陆。有的无聊人士买来好几G的密码包，让程序在公网上碰撞登陆。你的密码如果是简单的字母组合，很容易被碰撞上。</li> </ul> <p><strong>我碰到的一些问题：</strong>  </p> <ol> <li>购买的时候请选择Linux系统，<strong>Centos 6.3  64位</strong>的。我买的时候选择了Centos5.7之后碰到很多问题，浪费了好几个小时。一气之下更换系统到Centos6.3，啥问题都没了。 </li> <li>重新安装系统，密码是正确的却登陆不成功。 <br> 原因是本地保存的服务器公钥发生变化了。 <br> 解决办法：mac用户在Terminal执行 <br> <code>vim ~/.ssh/know-hosts</code> 把连不上那台服务器IP后的公钥删除。</li> </ol> <h3 class="wmd-title" id="二、服务器基础环境搭建">二、服务器基础环境搭建</h3> <p>世界上个人服务器最经典的搭配就是LAMP（Linux+Apache+Mysql+PHP）。我们买好Linux云服务器，就已经有Linux了。接下来安装3个基础应用。</p> <h4 class="wmd-title" id="安装apache">安装Apache</h4> <p>yum install httpd httpd-devel /etc/init.d/httpd start  </p> <h4 class="wmd-title" id="安装mysql">安装MySQL</h4> <p><code>yum install mysql mysql-server mysql-devel</code></p> <p><code>/etc/init.d/mysqld start</code></p> <p><strong>设置mysql密码</strong> <br> <code>mysql_secure_installation</code> <br> 按照提示，设置mysql root密码。 <br> <strong>新建一个mysql用户</strong>    </p> <p><code>mysql -u root -p</code> <br> 输入你刚才创建的mysql的密码，进入mysql命令行，如下。</p> <pre class="prettyprint prettyprinted" style=""><code><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> create database wordpress</span><span class="pun">;</span><span class="pln"> </span><span class="typ">Query</span><span class="pln"> OK</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> row affected </span><span class="pun">(</span><span class="lit">0.00</span><span class="pln"> sec</span><span class="pun">)</span><span class="pln"> mysql</span><span class="pun">&gt;</span><span class="pln"> grant all on wordpress</span><span class="pun">.*</span><span class="pln"> to </span><span class="str">`user1`</span><span class="lit">@localhost</span><span class="pln"> identified </span><span class="kwd">by</span><span class="pln"> </span><span class="str">\'123456\'</span><span class="pun">;</span><span class="pln"> </span><span class="typ">Query</span><span class="pln"> OK</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> rows affected </span><span class="pun">(</span><span class="lit">0.00</span><span class="pln"> sec</span><span class="pun">)</span><span class="pln"> mysql</span><span class="pun">&gt;</span><span class="pln"> flush privileges</span><span class="pun">;</span><span class="pln"> </span><span class="typ">Query</span><span class="pln"> OK</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> rows affected </span><span class="pun">(</span><span class="lit">0.00</span><span class="pln"> sec</span><span class="pun">)</span></code></pre> <p>上述执行完毕，按ctrl+c返回到Linux系统。 <br> 上面的命令是增加了一个数据库 wordpress，还增加了一个用户  user1（密码123456）。后面开始安装wordpress会用到这个库+用户。</p> <h4 class="wmd-title" id="安装php:">安装PHP:</h4> <pre class="prettyprint prettyprinted" style=""><code><span class="pln">yum install php php</span><span class="pun">-</span><span class="pln">mysql php</span><span class="pun">-</span><span class="pln">common php</span><span class="pun">-</span><span class="pln">gd php</span><span class="pun">-</span><span class="pln">mbstring php</span><span class="pun">-</span><span class="pln">mcrypt php</span><span class="pun">-</span><span class="pln">devel php</span><span class="pun">-</span><span class="pln">xml</span></code></pre> <p><code>/etc/init.d/httpd restart</code></p> <p>上述已经把Apache、Mysql、PHP安装完成了。我们测试下是否安装正确。</p> <p><code>vim /var/www/html/test.php</code> 在编辑框按字母i,输入下方内容：  </p> <pre class="prettyprint prettyprinted" style=""><code><span class="pun">&lt;?</span><span class="pln">php   phpinfo</span><span class="pun">();</span><span class="pln">   </span><span class="pun">?&gt;</span></code></pre> <p>按esc，输入   <code>:wq</code> 保存 <br> 访问<a href="http://XXX.XX.XX.XX/test.php">http://XXX.XX.XX.XX/test.php</a>(前面的XXX就是你的公网IP)如果正确的出现php的检测信息，就说明安装好。</p> <h4 class="wmd-title" id="可选，安装phpmyadmin">可选，安装phpMyAdmin</h4> <p><code>yum install phpmyadmin</code>  </p> <h3 class="wmd-title" id="五分钟安装wordpress">五分钟安装Wordpress</h3> <pre class="prettyprint prettyprinted" style=""><code><span class="pln">cd </span><span class="pun">/</span><span class="kwd">var</span><span class="pun">/</span><span class="kwd">local</span><span class="pun">/</span><span class="pln">rsc   wget http</span><span class="pun">:</span><span class="com">//cn.wordpress.org/wordpress-3.6.1-zh_CN.tar.gz  </span><span class="pln"> tar xzvf wordpress</span><span class="pun">-</span><span class="lit">3.6</span><span class="pun">.</span><span class="lit">1</span><span class="pun">-</span><span class="pln">zh_CN</span><span class="pun">.</span><span class="pln">tar</span><span class="pun">.</span><span class="pln">gz   mv wordpress </span><span class="pun">/</span><span class="kwd">var</span><span class="pun">/</span><span class="pln">www</span><span class="pun">/</span><span class="pln">html</span><span class="pun">/</span><span class="pln">wordpress   cp </span><span class="pun">/</span><span class="kwd">var</span><span class="pun">/</span><span class="pln">www</span><span class="pun">/</span><span class="pln">html</span><span class="pun">/</span><span class="pln">wordpress</span><span class="pun">/</span><span class="pln">wp</span><span class="pun">-</span><span class="pln">config</span><span class="pun">-</span><span class="pln">sample</span><span class="pun">.</span><span class="pln">php </span><span class="pun">/</span><span class="kwd">var</span><span class="pun">/</span><span class="pln">www</span><span class="pun">/</span><span class="pln">html</span><span class="pun">/</span><span class="pln">wordpress</span><span class="pun">/</span><span class="pln">wp</span><span class="pun">-</span><span class="pln">config</span><span class="pun">.</span><span class="pln">php   vim </span><span class="pun">/</span><span class="kwd">var</span><span class="pun">/</span><span class="pln">www</span><span class="pun">/</span><span class="pln">html</span><span class="pun">/</span><span class="pln">wordpress</span><span class="pun">/</span><span class="pln">wp</span><span class="pun">-</span><span class="pln">config</span><span class="pun">.</span><span class="pln">php   </span></code></pre> <pre class="prettyprint prettyprinted" style=""><code><span class="com">// ** MySQL 设置 - 具体信息来自您正在使用的主机 ** //</span><span class="pln"> </span><span class="com">/** WordPress数据库的名称 */</span><span class="pln"> define</span><span class="pun">(</span><span class="str">\'DB_NAME\'</span><span class="pun">,</span><span class="pln"> </span><span class="str">\'wordpress\'</span><span class="pun">);</span><span class="pln"> </span><span class="com">/** MySQL数据库用户名 */</span><span class="pln"> define</span><span class="pun">(</span><span class="str">\'DB_USER\'</span><span class="pun">,</span><span class="pln"> </span><span class="str">\'user1\'</span><span class="pun">);</span><span class="pln"> </span><span class="com">/** MySQL数据库密码 */</span><span class="pln"> define</span><span class="pun">(</span><span class="str">\'DB_PASSWORD\'</span><span class="pun">,</span><span class="pln"> </span><span class="str">\'123456\'</span><span class="pun">);</span></code></pre> <p>修改完上述文件后保存。 然后访问： <a href="http://XXX.XX.XX.XX/wordpress/wp-admin/install.php">http://XXX.XX.XX.XX/wordpress/wp-admin/install.php</a> <br> 几秒后wordpress就设置完成，等待你设置wordpress的后台管理账号、密码。</p> <h3 class="wmd-title" id="设置完成，开玩！">设置完成，开玩！</h3> <p>备注自己玩另一个程序的问题：在Centos6.3上安装JDK，报如下错误：</p> <pre class="prettyprint prettyprinted" style=""><code><span class="pln">bad ELF interpreter</span><span class="pun">:</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> such file </span><span class="kwd">or</span><span class="pln"> directory</span></code></pre> <p>然后google发现是安装了32位的JDK。这么低级的错误。</p> <blockquote>   <p>Written with <a href="http://benweet.github.io/stackedit/">StackEdit</a>.</p> </blockquote>'